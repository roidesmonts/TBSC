define(["jquery","lib/uri/URI"],function($,URI){var lmd=window.lmd;var loginRegister={getUrl:function(route,origin,extraData){var uri=URI("");origin=origin||URI().toString();extraData=extraData||{};if(extraData.reactions)origin=origin+"#liste_reactions";uri.scheme("https").domain(lmd.conf.wwws.location.hostname).path("/account/").query($.extend({},extraData,{route:route,origin:origin}));return uri.toString()},goTo:function(route,origin,extraData){location.href=this.getUrl(route,origin,extraData)}};
var configureRegisterBtn=function($btn){var strBtnData=function(key){return $btn.data(key)===undefined?"":$btn.data(key)};var extraParam={};if(strBtnData("redirect"))extraParam.redirect=strBtnData("redirect");if(strBtnData("redirectAbo"))extraParam.redirect_abo=strBtnData("redirectAbo");extraParam.reactions=false;if(strBtnData("reactions"))extraParam.reactions=true;$btn.attr("href",loginRegister.getUrl(strBtnData("route"),null,extraParam))};require(["lmd/module/xiti/hit"],function(hit_xiti){$("body").on("click",
".js_trigger_login_register",function(){var $btn=$(this);var datas=$btn.data();if(datas.xtclick!==undefined&&datas.xtclick!==null&&datas.xtclick!=="")hit_xiti.hit(window,"C","75",datas.xtclick,"A")})});$("body").on("mousedown keydown",".js_trigger_login_register",function(){configureRegisterBtn($(this))});return loginRegister});
